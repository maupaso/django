{% load static %}


<!DOCTYPE html>
<html Lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">

  <link rel="icon" href="{%static 'carioquinha/images/favicon.ico' %}">

  <style type="text/css">
    .div.half {
        width: 50%;
    }
    .div.full {
      width: 100%;
    }
  </style>


  <title>Carioquinhas</title>

 <link href="{% static 'carioquinha/bootstrap/css/bootstrap.css' %}" rel="stylesheet">
</head>

<body onLoad="getLocation()">


<div>

  <nav class="navbar navbar-dark bg-dark">
  <!-- Navbar content -->
  <a class="navbar-brand" href="#">
    <img max height="60 px" src="../static/carioquinha/images/LOGO-CARIOQUINHAS-WHITE.png"/></a>
</nav>

<nav class="navbar navbar-expand-lg navbar-light bg-light">
  <!--<a class="navbar-brand" href="#">Home</a>-->
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  <!-- 
  <div class="collapse navbar-collapse" id="navbarSupportedContent">
    <ul class="navbar-nav mr-auto">
      <li class="nav-item active">
        <a class="nav-link" href="#">Home <span class="sr-only">(current)</span></a>
      </li>
      <li class="nav-item">
        <a class="nav-link" href="#">Quem somos</a>
      </li>
    </ul>
  </div>
  -->
</nav>
</div>

<div class="container-fluid pt-5" style="background-color: #eeeeee;">
  <div class="row">
    <div class="col-5 border-right">
      <div class="row">
        <div class="col-6 " id="transito">
          <div class="row justify-content-md-center">
            <div class="col-8 p-3 m-3">
              <p class="rounded-circle bg-info text-white vcenter button btn" style="height: 100px; width: 100px;"><img width="75px" src="{%static 'carioquinha/images/car.png'%}"></p>
            </div>
          </div>
        </div>
        <div class="col-6" id="clima">
          <div class="row justify-content-md-center">
            <div class="col-8 p-3 m-3">
              <p class="rounded-circle bg-dark text-white vcenter  button btn"  style="height: 100px; width: 100px;"><img width="75px" src="{%static 'carioquinha/images/weather_ic_blue.png'%}"</p>
            </div>
          </div>
        </div>
        <div class="col-6 " id="seguranca">
          <div class="row justify-content-md-center">
            <div class="col-8 p-3 m-3">
              <p class="rounded-circle bg-warning background-color:yellow text-white vcenter button btn"  style="height: 100px; width: 100px "><img width="75px" src="{%static 'carioquinha/images/-safety-icon.png'%}"></p>
            </div>
          </div>
        </div>
        <div class="col-6 " id="noticia">
          <div class="row justify-content-md-center">
            <div class="col-8 p-3 m-3">
              <p class="rounded-circle bg-light text-white background-color:'red' vcenter button btn" style="height: 100px; width: 100px; align-self: center;"><img width="70px" src="{%static 'carioquinha/images/if_news.svg'%}"></p>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="content" class="col-7 weather container" style="overflow-y: scroll; height:500px;">

      <!-- Transito INFO -->
      <div class="row group p-3 m-3" id="traffic" style="display: none">
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Notícia</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">0</th>
              <td class="textToRead">Hello World</td>
            </tr>
            {% for news in transitoTwitter %}
              <tr>
                <th scope="row">{{forloop.counter}}</th>
                <td class="textToRead">{{news}}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <!-- Violencia INFO -->
      <div class="row group p-3 m-3"  id="violence" style="display: none">
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Notícia</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">0</th>
              <td class="textToRead">Hello World</td>
            </tr>
            {% for news in violenciaTwitter %}
              <tr>
                <th scope="row">{{forloop.counter}}</th>
                <td class="textToRead">{{news}}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <!-- Notícias INFO -->
      <div class="row group p-3 m-3" id="news" style="display: none">
        <table class="table table-striped">
          <thead>
            <tr>
              <th scope="col">#</th>
              <th scope="col">Notícia</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <th scope="row">0</th>
              <td class="textToRead">Hello World</td>
            </tr>
            {% for news in eventoTwitter %}
              <tr>
                <th scope="row">{{forloop.counter}}</th>
                <td class="textToRead">{{news}}</td>
              </tr>
            {% endfor %}
          </tbody>
        </table>
      </div>

      <!-- Clima INFO -->
      <div id="weather" class="row group p-3 m-3" style="display: none">

<div id="slide" class="carousel slide" data-ride="carousel">
  <div id="carousel" class="carousel-inner">

        <div id="addNewDay" class="carousel-item active">
          <div class="day container">
            <h3 class="date"></h3>
            <img src="" class="icon"/>
            <p class="temperature"></p>
            <p class="text"></p>
          </div>
          <div class="row">
            <div class="morning col-4">
              <img src="" class="icon"/>
              <p class="temperature"></p>
              <p class="text"></p>
            </div>
            <div class="afternoon col-4">
              <img src="" class="icon"/>
              <p class="temperature"></p>
              <p class="text"></p>
            </div>
            <div class="night col-4">
              <img src="" class="icon"/>
              <p class="temperature"></p>
              <p class="text"></p>
            </div>
          </div>
        </div>


  </div>        
  <a class="carousel-control-prev" href="#slide" role="button" data-slide="prev" >
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="sr-only">Previous</span>
  </a>
  <a class="carousel-control-next" href="#slide" role="button" data-slide="next" >
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="sr-only">Next</span>
  </a>
</div>

      </div>

    </div>







  </div>      
</div>

    <script src="{% static 'carioquinha/js/jquery.js' %}"></script>
    <script src="{% static 'carioquinha/bootstrap/js/bootstrap.js' %}"></script>
    <script type="text/javascript">
    jQuery.support.cors = true;

      function myFunction(param) {
        var text = $("#content");

        switch(param){
          case "transito":
            $(".group").css("display", "none");
            $("#traffic").css("display", "block");
            break;
          case "clima":
            $(".group").css("display", "none");
            $("#weather").css("display", "block");
            break;
          case "violence":
            $(".group").css("display", "none");
            $("#violence").css("display", "block");
            break;
          case "news":
            $(".group").css("display", "none");
            $("#news").css("display", "block");
            break;
          default:
            text.innerHTML = "";
            break;
        }
      }

      $(document).ready(function() {
          $("#transito").click(function(){
            myFunction("transito");
          });

          $("#clima").click(function(){
            myFunction("clima");
          });

          $("#seguranca").click(function(){
            myFunction("violence");
          });

          $("#noticia").click(function(){
            myFunction("news");
          });

          $(".textToRead").click(function(){
            alert(this.valueOf().innerText);
/*
            //TEXT TO SPEECH
            $.ajax({
              url: "https://stream.watsonplatform.net/text-to-speech/api",
              type: 'POST',
              dataType: 'json',
              contentType: 'application/json',
              processData: false,
              Accept: "audio/wav",
              apikey:"pJRjeQOr033WBJG_5uL1FwFXKpZM0ZX_HgCeqYNh11GR",
              data: {"text":this.valueOf().innerText},
              success: function (data) {
                alert(JSON.stringify(data));
              },
              error: function(){
                alert("Cannot get data");
              }
            });
*/

          });

        });

        var x = document.getElementById("demo");

        var city = "";
        var state = "";
        var country = "";
        var id = "";

        function getLocation() {
          getWeather(3477);
          /*
            if (navigator.geolocation) {
                navigator.geolocation.getCurrentPosition(showPosition, showError);
            } else { 
                x.innerHTML = "Geolocation is not supported by this browser.";
            }
            */
        }

        function showPosition(position) {
            //getGoogleLocationInfo(position.coords.latitude, position.coords.longitude);
            //getWeather(3477);
        }

        function showError(error) {
            switch(error.code) {
                case error.PERMISSION_DENIED:
                    x.innerHTML = "User denied the request for Geolocation."
                    break;
                case error.POSITION_UNAVAILABLE:
                    x.innerHTML = "Location information is unavailable."
                    break;
                case error.TIMEOUT:
                    x.innerHTML = "The request to get user location timed out."
                    break;
                case error.UNKNOWN_ERROR:
                    x.innerHTML = "An unknown error occurred."
                    break;
            }
        }

        function getGoogleLocationInfo(lat, lng) {
          var xhttp = new XMLHttpRequest();
          xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {

                city = "";
                state = "";
                country = "";

                var json = JSON.parse(this.responseText);
                var resultLength = json["results"].length;

                for(var i = 0; i < resultLength; i++){
                    var addressComponentLength = json["results"][i]["address_components"].length;

                    for(var j = 0; j < addressComponentLength; j++){
                        var typesLength = json["results"][i]["address_components"][j]["types"].length;

                        for (var x = 0; x < typesLength; x++){
                            if(json["results"][i]["address_components"][j]["types"][x] == "locality" && city == ""){
                                city = json["results"][i]["address_components"][j]["short_name"];
                            }
                            if(json["results"][i]["address_components"][j]["types"][x] == "administrative_area_level_1" && state == ""){
                                state = json["results"][i]["address_components"][j]["short_name"];
                            }
                            if(json["results"][i]["address_components"][j]["types"][x] == "country" && country == ""){
                                country = json["results"][i]["address_components"][j]["short_name"];
                            }
                        }
                    }
                }             

                getPlaceId(city, state);
            }
          };

          var prefix = "https://maps.googleapis.com/maps/api/geocode/json?latlng=";
          var sufix  = "&key=AIzaSyCAN8HtOi-Om0uHY5QYRz1T73yOw8TrOAk";

          xhttp.open("GET", (prefix + "" + lat + "," + lng + "" + sufix), true);
          xhttp.send();
        }


        function getPlaceId(city, state){
          var xhttp = new XMLHttpRequest();
          xhttp.onreadystatechange = function() {
            if (this.readyState == 4 && this.status == 200) {

                var json = JSON.parse(this.responseText);

                id = json[0]["id"];

                console.log(id);

                getWeather(id);
            }
          };

          var prefix = "https://apiadvisor.climatempo.com.br/api/v1/locale/city?name=";
          var sufix  = "&token=69ea8f47c3656a72c8cfa63cefe3ebb1";
          var url = prefix + "" + city + "&state=" + state + "" + sufix;

          xhttp.open("GET", url, true);
          xhttp.send();
        }

        function getWeather(id){
          var xhttp = new XMLHttpRequest();
          //xhttp.onreadystatechange = function() {
            //if (this.readyState == 4 && this.status == 200) {

                this.responseText = '{"id":3477,"name":"S\u00e3o Paulo","state":"SP","country":"BR  ","data":[{"date":"2018-11-03","date_br":"03/11/2018","humidity":{"min":46,"max":94,"dawn":{"min":91,"max":94},"morning":{"min":54,"max":83},"afternoon":{"min":46,"max":51},"night":{"min":56,"max":91}},"rain":{"probability":80,"precipitation":15},"wind":{"velocity_min":9,"velocity_max":26,"velocity_avg":19,"gust_max":36,"direction_degrees":357,"direction":"NNW","dawn":{"direction":"E","gust_max":36,"velocity_max":19},"morning":{"direction":"NNE","gust_max":34,"velocity_max":20},"afternoon":{"direction":"NW","gust_max":34,"velocity_max":26},"night":{"direction":"WNW","gust_max":29,"velocity_max":22}},"uv":{"max":10},"thermal_sensation":{"min":18,"max":34},"text_icon":{"icon":{"dawn":"2rn","morning":"2r","afternoon":"4t","night":"4tn","day":"4t"},"text":{"pt":"Sol, pancadas de chuva e trovoadas.","en":null,"es":null,"phrase":{"reduced":"Sol com muitas nuvens. Pancadas de chuva \u00e0 tarde e \u00e0 noite.","morning":"Sol com muitas nuvens","afternoon":"Sol, pancadas de chuva e trovoadas.","night":"Muitas nuvens, chuva e raios","dawn":"Muitas nuvens"}}},"temperature":{"min":18,"max":31,"dawn":{"min":18,"max":19},"morning":{"min":18,"max":25},"afternoon":{"min":27,"max":31},"night":{"min":27,"max":31}}},{"date":"2018-11-04","date_br":"04/11/2018","humidity":{"min":67,"max":96,"dawn":{"min":null,"max":96},"morning":{"min":76,"max":90},"afternoon":{"min":90,"max":92},"night":{"min":93,"max":94}},"rain":{"probability":75,"precipitation":8},"wind":{"velocity_min":3,"velocity_max":25,"velocity_avg":18,"gust_max":43,"direction_degrees":152,"direction":"SE","dawn":{"direction":"ESE","gust_max":30,"velocity_max":20},"morning":{"direction":"SSE","gust_max":27,"velocity_max":20},"afternoon":{"direction":"SSE","gust_max":33,"velocity_max":24},"night":{"direction":"SE","gust_max":43,"velocity_max":25}},"uv":{"max":11},"thermal_sensation":{"min":17,"max":24},"text_icon":{"icon":{"dawn":"4rn","morning":"4r","afternoon":"4r","night":"4rn","day":"4r"},"text":{"pt":"Sol com muitas nuvens e chuva","en":"Sun and rain.","es":"Sol con muchas nubes durante el d\u00eda. Per\u00edodos de nublado, con lluvia a cualquier hora.","phrase":{"reduced":"Sol com muitas nuvens durante o dia. Per\u00edodos de nublado, com chuva a qualquer hora.","morning":"Sol com muitas nuvens e chuva","afternoon":"Sol com muitas nuvens e chuva","night":"Muitas nuvens e chuva","dawn":"Muitas nuvens e chuva"}}},"temperature":{"min":17,"max":24,"dawn":{"min":19,"max":24},"morning":{"min":19,"max":20},"afternoon":{"min":18,"max":19},"night":{"min":17,"max":18}}},{"date":"2018-11-05","date_br":"05/11/2018","humidity":{"min":85,"max":94,"dawn":{"min":93,"max":94},"morning":{"min":86,"max":94},"afternoon":{"min":85,"max":86},"night":{"min":88,"max":92}},"rain":{"probability":40,"precipitation":2},"wind":{"velocity_min":19,"velocity_max":25,"velocity_avg":23,"gust_max":42,"direction_degrees":126,"direction":"ESE","dawn":{"direction":"ESE","gust_max":42,"velocity_max":24},"morning":{"direction":"ESE","gust_max":40,"velocity_max":24},"afternoon":{"direction":"ESE","gust_max":35,"velocity_max":25},"night":{"direction":"ESE","gust_max":38,"velocity_max":25}},"uv":{"max":11},"thermal_sensation":{"min":16,"max":23},"text_icon":{"icon":{"dawn":"3n","morning":"3","afternoon":"2r","night":"3n","day":"3"},"text":{"pt":"Nublado","en":"Cloudy.","es":"Cielo nublado de d\u00eda y de noche. Posibilidad de llovizna.","phrase":{"reduced":"Nublado com aberturas de sol \u00e0\u00a0 tarde. Pode garoar de manh\u00e3 e \u00e0 noite.","morning":"Nublado","afternoon":"Sol com muitas nuvens","night":"Nublado com possibilidade de chuviscos","dawn":"Nublado com possibilidade de chuviscos"}}},"temperature":{"min":16,"max":23,"dawn":{"min":18,"max":21},"morning":{"min":16,"max":17},"afternoon":{"min":18,"max":23},"night":{"min":16,"max":20}}},{"date":"2018-11-06","date_br":"06/11/2018","humidity":{"min":71,"max":94,"dawn":{"min":94,"max":94},"morning":{"min":74,"max":93},"afternoon":{"min":71,"max":80},"night":{"min":84,"max":90}},"rain":{"probability":0,"precipitation":0},"wind":{"velocity_min":16,"velocity_max":24,"velocity_avg":20,"gust_max":42,"direction_degrees":118,"direction":"ESE","dawn":{"direction":"ESE","gust_max":42,"velocity_max":23},"morning":{"direction":"E","gust_max":36,"velocity_max":20},"afternoon":{"direction":"E","gust_max":23,"velocity_max":21},"night":{"direction":"SE","gust_max":31,"velocity_max":24}},"uv":{"max":11},"thermal_sensation":{"min":16,"max":29},"text_icon":{"icon":{"dawn":"2rn","morning":"2r","afternoon":"2","night":"2n","day":"2"},"text":{"pt":"Sol com algumas nuvens","en":"Mostly sunny.","es":"Sol con algunas nubes. No llueve.","phrase":{"reduced":"Dia de sol com algumas nuvens e n\u00e9voa ao amanhecer. Noite com poucas nuvens.","morning":"Sol com muitas nuvens","afternoon":"Sol com algumas nuvens","night":"Algumas nuvens","dawn":"Muitas nuvens"}}},"temperature":{"min":16,"max":27,"dawn":{"min":17,"max":18},"morning":{"min":16,"max":20},"afternoon":{"min":22,"max":27},"night":{"min":19,"max":24}}},{"date":"2018-11-07","date_br":"07/11/2018","humidity":{"min":81,"max":94,"dawn":{"min":91,"max":92},"morning":{"min":83,"max":93},"afternoon":{"min":81,"max":93},"night":{"min":93,"max":94}},"rain":{"probability":80,"precipitation":20},"wind":{"velocity_min":13,"velocity_max":23,"velocity_avg":19,"gust_max":39,"direction_degrees":122,"direction":"ESE","dawn":{"direction":"ESE","gust_max":33,"velocity_max":21},"morning":{"direction":"E","gust_max":28,"velocity_max":18},"afternoon":{"direction":"SE","gust_max":30,"velocity_max":23},"night":{"direction":"ESE","gust_max":39,"velocity_max":23}},"uv":{"max":9},"thermal_sensation":{"min":18,"max":25},"text_icon":{"icon":{"dawn":"2rn","morning":"2r","afternoon":"4r","night":"4rn","day":"4r"},"text":{"pt":"Sol com muitas nuvens e chuva","en":"Sun and rain.","es":"Sol con muchas nubes durante el d\u00eda. Per\u00edodos de nublado, con lluvia a cualquier hora.","phrase":{"reduced":"Sol com muitas nuvens. Pancadas de chuva \u00e0 tarde e \u00e0 noite.","morning":"Sol com muitas nuvens","afternoon":"Sol com muitas nuvens e chuva","night":"Muitas nuvens e chuva","dawn":"Muitas nuvens"}}},"temperature":{"min":18,"max":25,"dawn":{"min":18,"max":19},"morning":{"min":19,"max":21},"afternoon":{"min":22,"max":25},"night":{"min":19,"max":22}}},{"date":"2018-11-08","date_br":"08/11/2018","humidity":{"min":66,"max":94,"dawn":{"min":93,"max":94},"morning":{"min":69,"max":94},"afternoon":{"min":66,"max":76},"night":{"min":79,"max":93}},"rain":{"probability":60,"precipitation":4},"wind":{"velocity_min":17,"velocity_max":28,"velocity_avg":23,"gust_max":41,"direction_degrees":114,"direction":"ESE","dawn":{"direction":"ESE","gust_max":41,"velocity_max":23},"morning":{"direction":"E","gust_max":36,"velocity_max":23},"afternoon":{"direction":"E","gust_max":30,"velocity_max":26},"night":{"direction":"ESE","gust_max":41,"velocity_max":28}},"uv":{"max":9},"thermal_sensation":{"min":16,"max":20},"text_icon":{"icon":{"dawn":"2n","morning":"2","afternoon":"4","night":"4n","day":"4"},"text":{"pt":"Sol e Chuva","en":"Sun and rain.","es":"Sol y aumento de nubes. Chubascos aislados en la tarde y en la noche.","phrase":{"reduced":"Sol e aumento de nuvens de manh\u00e3. Pancadas de chuva \u00e0 tarde e \u00e0 noite.","morning":"Sol com algumas nuvens","afternoon":"Sol e Chuva","night":"Algumas nuvens e chuva","dawn":"Algumas nuvens"}}},"temperature":{"min":16,"max":20,"dawn":{"min":16,"max":17},"morning":{"min":16,"max":17},"afternoon":{"min":17,"max":20},"night":{"min":18,"max":20}}},{"date":"2018-11-09","date_br":"09/11/2018","humidity":{"min":54,"max":93,"dawn":{"min":89,"max":92},"morning":{"min":60,"max":91},"afternoon":{"min":54,"max":57},"night":{"min":63,"max":89}},"rain":{"probability":0,"precipitation":0},"wind":{"velocity_min":20,"velocity_max":26,"velocity_avg":22,"gust_max":46,"direction_degrees":104,"direction":"E","dawn":{"direction":"E","gust_max":46,"velocity_max":24},"morning":{"direction":"E","gust_max":41,"velocity_max":26},"afternoon":{"direction":"E","gust_max":29,"velocity_max":24},"night":{"direction":"ESE","gust_max":36,"velocity_max":23}},"uv":{"max":0},"thermal_sensation":{"min":15,"max":21},"text_icon":{"icon":{"dawn":"2n","morning":"2","afternoon":"2","night":"2n","day":"2"},"text":{"pt":"Sol com algumas nuvens","en":"Mostly sunny.","es":"Sol con algunas nubes. No llueve.","phrase":{"reduced":"Sol com algumas nuvens. N\u00e3o chove.","morning":"Sol com algumas nuvens","afternoon":"Sol com algumas nuvens","night":"Algumas nuvens","dawn":"Algumas nuvens"}}},"temperature":{"min":15,"max":21,"dawn":{"min":16,"max":17},"morning":{"min":15,"max":18},"afternoon":{"min":19,"max":21},"night":{"min":17,"max":21}}}]}'


                var json = JSON.parse(this.responseText);
                var dataLength = json["data"].length;

                for(var i = 0; i < dataLength; i++){
                    var data = json["data"][i]
                    var date = data.date_br;

                    var humidity = json["data"][i]["humidity"];
                    var rain = json["data"][i]["rain"];
                    var wind = json["data"][i]["wind"];
                    var uv = json["data"][i]["uv"];
                    var thermalSensation = json["data"][i]["thermal_sensation"];
                    var textIcon = json["data"][i]["text_icon"];
                    var temperature = json["data"][i]["temperature"];

                    if(i == 0){
                      $(".day > .date").html(date);
                      $(".day > .icon").attr('src', ("{%static 'carioquinha/images/weather/' %}" + textIcon["icon"]["day"] + ".png"));
                      $(".day > .text").html(textIcon["text"]["phrase"]["reduced"]);
                      $(".day > .temperature").html(temperature["max"] + "/" + temperature["min"]);

                      $(".morning > .icon").attr('src', ("{%static 'carioquinha/images/weather/' %}" + textIcon["icon"]["morning"] + ".png"));
                      $(".morning > .text").html(textIcon["text"]["phrase"]["morning"]);
                      $(".morning > .temperature").html(temperature["morning"]["max"] + "/" + temperature["morning"]["min"]);

                      $(".afternoon > .icon").attr('src', ("{%static 'carioquinha/images/weather/' %}" + textIcon["icon"]["afternoon"] + ".png"));
                      $(".afternoon > .text").html(textIcon["text"]["phrase"]["afternoon"]);
                      $(".afternoon > .temperature").html(temperature["afternoon"]["max"] + "/" + temperature["afternoon"]["min"]);

                      $(".night > .icon").attr('src', ("{%static 'carioquinha/images/weather/' %}" + textIcon["icon"]["night"] + ".png"));
                      $(".night > .text").html(textIcon["text"]["phrase"]["night"]);
                      $(".night > .temperature").html(temperature["night"]["max"] + "/" + temperature["night"]["min"]);
                    } else{
                      $("#carousel").append("<div id='addNewDay' class='carousel-item'><div class='day container'><h3 class='date'></h3><img src='' class='icon'/><p class='temperature'></p><p class='text'></p></div><div class='row'><div class='morning col-4'><img src='' class='icon'/><p class='temperature'></p><p class='text'></p></div><div class='afternoon col-4'><img src='' class='icon'/><p class='temperature'></p><p class='text'></p></div><div class='night col-4'><img src='' class='icon'/><p class='temperature'></p><p class='text'></p></div></div></div>");


                      $("#carousel > div > .day > .date").last().html(date);
                      $("#carousel > div > .day > .icon").last().attr('src', ("{%static 'carioquinha/images/weather/'%}" + textIcon["icon"]["day"] + ".png"));
                      $("#carousel > div > .day > .text").last().html(textIcon["text"]["phrase"]["reduced"]);
                      $("#carousel > div > .day > .temperature").last().html(temperature["max"] + "/" + temperature["min"]);

                      $("#carousel > div > .row > .morning > .icon").last().attr('src', ("{%static 'carioquinha/images/weather/'%}"+textIcon["icon"]["morning"]+".png"));
                      $("#carousel > div > .row > .morning > .text").last().html(textIcon["text"]["phrase"]["morning"]);
                      $("#carousel > div > .row > .morning > .temperature").last().html(temperature["morning"]["max"]+"/"+temperature["morning"]["min"]);

                      $("#carousel > div > .row > .afternoon > .icon").last().attr('src',("{%static 'carioquinha/images/weather/'%}"+textIcon["icon"]["afternoon"]+".png"));
                      $("#carousel > div > .row > .afternoon > .text").last().html(textIcon["text"]["phrase"]["afternoon"]);
                      $("#carousel > div > .row > .afternoon > .temperature").last().html(temperature["afternoon"]["max"] + "/" + temperature["afternoon"]["min"]);

                      $("#carousel > div > .row > .night > .icon").last().attr('src', ("{%static 'carioquinha/images/weather/' %}"+textIcon["icon"]["night"] + ".png"));
                      $("#carousel > div > .row > .night > .text").last().html(textIcon["text"]["phrase"]["night"]);
                      $("#carousel > div > .row > .night > .temperature").last().html(temperature["night"]["max"]+"/"+temperature["night"]["min"]);
                    }









                }     
            //}
          //};

          var prefix = "https://apiadvisor.climatempo.com.br/api/v1/forecast/locale/";
          var sufix  = "/days/15?token=69ea8f47c3656a72c8cfa63cefe3ebb1";
          var url = prefix + "" + id + "" + sufix

          xhttp.open("GET", url, true);
          //xhttp.send();
        }       
    </script>
</body>
</html>